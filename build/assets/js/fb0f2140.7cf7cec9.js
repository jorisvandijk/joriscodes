"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5010],{5066:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"linux/Scripting/barless","title":"Barless","description":"Info","source":"@site/docs/linux/Scripting/barless.md","sourceDirName":"linux/Scripting","slug":"/linux/Scripting/barless","permalink":"/linux/Scripting/barless","draft":false,"unlisted":false,"editUrl":"https://codeberg.org/jorisvandijk/joriscodes/src/branch/main/docs/linux/Scripting/barless.md","tags":[],"version":"current","lastUpdatedBy":"Joris","lastUpdatedAt":1732265299000,"frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"ScreenShot","permalink":"/linux/Scripting/ScreenShot"},"next":{"title":"Auto mounting a drive","permalink":"/linux/automounting"}}');var a=n(4848),o=n(8453);const s={},r="Barless",c={},l=[];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"barless",children:"Barless"})}),"\n",(0,a.jsx)("center",{children:(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Info",src:n(2655).A+"",width:"1920",height:"1080"})})}),"\n",(0,a.jsxs)(t.p,{children:["A bar is used on a Linux Window Manager to display information like the date, time, volume information and maybe most importantly, on which desktop you are. Most people add way more to their bar, like CPU usage, memory usage, system temperature, hard drive space usage, connection state and many many more. It's also a part of the look of your desktop which you're supposed to ",(0,a.jsx)(t.strong,{children:"rice"}),", screenshot and put on ",(0,a.jsx)(t.a,{href:"https://www.reddit.com/r/unixporn/",children:"/r/unixporn"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"I don't use a bar. I used to, as that was the thing people did, but it annoyed me to lose a line of screen real estate which is just sitting there, hardly getting looked at. Only when I wanted to know the time, I'd look at my bar. Hence the bar went the way of the Dodo and I used my wristwatch for the time... for a while at least. I have to admit, being able to display the time on-screen is worth something, but having it always there is pointless. So I wrote a script. A simple script which took the time from the \"date\" command and displayed that on the screen through a notification. Pressing a keybinding showed the time."}),"\n",(0,a.jsx)(t.p,{children:"As with bar-people I ended up adding more and more information to my notification, mainly because I could. I now have a pretty extensive script that will show all sorts of information on key press. The way it looks on my system can be seen in the top right of the screenshot above."}),"\n",(0,a.jsx)(t.p,{children:"Adding and removing things to be displayed is easy by commenting out lines in the script. I figured others might like to try switching away from the bar and this could be useful."}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"The script in this state is a little messy, due to the fact that I have written it for a laptop with a single battery, but found I also needed it for a laptop with two batteries. It serves as an example, not a copy-paste solution."})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:'#!/usr/bin/env bash\n\n#\tInfo 2.4\n#\tShows time, date and battery information in a notification.\n#\tDependencies: acpi, libnotify, jq, BSPWM, font-awesome, pamixer\n#\n#\tBy Joris van Dijk | Jorisvandijk.com \n#\tLicensed under the GNU General Public License v3.0\n\n# For single battery laptops\n# battery() {\n# \tbatstat="$(cat /sys/class/power_supply/BAT1/status)"\n# \tbattery="$(cat /sys/class/power_supply/BAT1/capacity)"\n# \t\n#     if [[ $batstat = \'Unknown\' ]] || [[ $batstat = \'Charging\' ]]; then\n#     \ticon="\uf1e6"\n#     elif [[ $battery -ge 5 ]] && [[ $battery -le 19 ]]; then\n#     \ticon="\uf243"\n#     elif [[ $battery -ge 20 ]] && [[ $battery -le 39 ]]; then\n#     \ticon="\uf242"\n#     elif [[ $battery -ge 40 ]] && [[ $battery -le 59 ]]; then\n#     \ticon="\uf242"\n#     elif [[ $battery -ge 60 ]] && [[ $battery -le 79 ]]; then\n#     \ticon="\uf241"\n#     elif [[ $battery -ge 80 ]] && [[ $battery -le 95 ]]; then\n#     \ticon="\uf241"\n#     elif [[ $battery -ge 96 ]] && [[ $battery -le 100 ]]; then\n#     \ticon="\uf240"\n#     fi\n# \n# \techo $icon $battery"%"\n# }\n\n# For dual battery laptops\nbattery() {\n    # Get the status and capacity of both batteries\n    batstat0="$(cat /sys/class/power_supply/BAT0/status)"\n    batstat1="$(cat /sys/class/power_supply/BAT1/status)"\n    \n    battery0="$(cat /sys/class/power_supply/BAT0/capacity)"\n    battery1="$(cat /sys/class/power_supply/BAT1/capacity)"\n    \n    capacity0=1644  # Last full capacity of BAT0 (mAh)\n    capacity1=1623  # Last full capacity of BAT1 (mAh)\n\n    # Calculate remaining mAh for each battery\n    remaining0=$(( (battery0 * capacity0) / 100 ))\n    remaining1=$(( (battery1 * capacity1) / 100 ))\n\n    # Calculate total remaining energy and total capacity\n    total_remaining=$((remaining0 + remaining1))\n    total_capacity=$((capacity0 + capacity1))\n\n    # Calculate combined battery percentage\n    combined_percentage=$(( 100 * total_remaining / total_capacity ))\n\n    # Determine the charging status\n    if [[ $batstat0 == \'Unknown\' ]] || [[ $batstat0 == \'Charging\' ]] || \\\n       [[ $batstat1 == \'Unknown\' ]] || [[ $batstat1 == \'Charging\' ]]; then\n        icon="\uf1e6"\n    elif [[ $combined_percentage -ge 5 ]] && [[ $combined_percentage -le 19 ]]; then\n        icon="\uf243"\n    elif [[ $combined_percentage -ge 20 ]] && [[ $combined_percentage -le 39 ]]; then\n        icon="\uf242"\n    elif [[ $combined_percentage -ge 40 ]] && [[ $combined_percentage -le 59 ]]; then\n        icon="\uf242"\n    elif [[ $combined_percentage -ge 60 ]] && [[ $combined_percentage -le 79 ]]; then\n        icon="\uf241"\n    elif [[ $combined_percentage -ge 80 ]] && [[ $combined_percentage -le 95 ]]; then\n        icon="\uf241"\n    elif [[ $combined_percentage -ge 96 ]] && [[ $combined_percentage -le 100 ]]; then\n        icon="\uf240"\n    fi\n\n    echo $icon $combined_percentage"%"\n}\n\ndatetime() {\n\tif [[ $1 = \'d\' ]]; then\n\t\ticon="\uf073"\n\t\tinfo="$(date "+%A %-d/%-m/%Y")"\n\telif [[ $1 = \'t\' ]]; then\n\t\ticon="\uf017"\n\t\tinfo="$(date "+%H:%M")"\n\telse\n\t\ticon="\uf128"\n\t\tinfo="Incorrect or missing flag"\n\tfi\n\n\techo $icon $info\t\n}\n\nvolume () {\n\tvol="$(pamixer --get-volume)"\n\t\n\tif [[ $(pamixer --get-mute) == "true" ]]; then\n\t\ticon="\uf6a9"\n\telif [[ $vol -ge 0 ]] && [[ $vol -le 33 ]]; then\n\t    # icon="\uf027"\n\telif [[ $vol -ge 34 ]] && [[ $vol -le 66 ]]; then\n\t    # icon=""\n\telse\n\t\ticon="\uf028"\n\tfi\n\n\techo $icon $vol\n}\n\nworkspace() {\n\ticon="\uf108 "\n\tws=$(bspc query -D -d focused --names)\n\n\techo $icon $ws\n}\n\nvpn() {\n\tpid=$(pidof openconnect)\n\tif [[ $pid ]]; then \n\t\ticon="\uf023"\n\t\tVPN="VPN connected"\n\n\t\techo $icon $VPN\n\telse \n\t\techo " "\n\tfi\t\n}\n\nbluetooth_battery() {\n\n\tmac="1C:52:16:3C:35:AC"\n\t\n\ticon=\'\uf293\'\n\t\n\tname=$(bluetoothctl info $mac| grep \'Name:\' | cut -d\\   -f2)\n\tbat=$(bluetoothctl info $mac| grep Battery | grep -oP \'\\(\\K[^\\)]+\')\n\n\tif [[ $bat == \'\' ]]; then\n\t\techo ""\n\telse\t\n\t\techo $icon $name $bat%\n\tfi\n}\n\nbrightness() {\n    current_brightness=$(brightnessctl g)\n    max_brightness=$(brightnessctl m)\n    brightness_percentage=$((current_brightness * 100 / max_brightness))\n\n    if [[ $brightness_percentage -le 20 ]]; then\n        icon="\uf186" # Low brightness icon\n    elif [[ $brightness_percentage -le 60 ]]; then\n        icon="\uf0eb" # Medium brightness icon\n    else\n        icon="\uf185" # High brightness icon\n    fi\n\n    echo "$icon $brightness_percentage%"\n}\n\noptions=( "datetime t" "datetime d" "battery" "volume" "brightness" "bluetooth_battery" "workspace")\n\nfor i in "${options[@]}"\ndo\n   notify-send -u normal -t 5000 "$($i)"\ndone\n\n'})}),"\n",(0,a.jsxs)(t.p,{children:["As always, an up to date version of this script can be found in my ",(0,a.jsx)(t.a,{href:"/#dotfiles",children:"dotfiles"}),". Also, any suggestions regarding the script are welcomed."]})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},2655:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/bar-f2bd9762829b6db211135e2dcb091a67.png"},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var i=n(6540);const a={},o=i.createContext(a);function s(e){const t=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(o.Provider,{value:t},e.children)}}}]);